```python
#4.1.5布尔索引
```


```python
import numpy as np
```


```python
names = np.array(['bob','dasd','fead','ufjw','fuwio','fajjw'])
names
```




    array(['bob', 'dasd', 'fead', 'ufjw', 'fuwio', 'fajjw'], dtype='<U5')




```python
data = np.random.randn(7,4)
data
```




    array([[-0.22016327,  0.27746296,  0.83215429,  0.73517208],
           [-1.1101204 ,  0.47529513, -1.76016456,  1.5217802 ],
           [-1.70629934,  0.97101937, -0.1563195 , -1.2219702 ],
           [-0.82751164, -1.40562104,  0.3225628 , -0.67212227],
           [-1.18599022,  0.70869203, -0.6537832 , -0.88416392],
           [ 0.34037826,  2.95790693,  2.23964706,  0.7826746 ],
           [ 1.58033489,  0.08012767, -0.25468447, -0.60233086]])




```python
names == 'bob'
```




    array([ True, False, False, False, False, False])




```python
data
```




    array([[-0.22016327,  0.27746296,  0.83215429,  0.73517208],
           [-1.1101204 ,  0.47529513, -1.76016456,  1.5217802 ],
           [-1.70629934,  0.97101937, -0.1563195 , -1.2219702 ],
           [-0.82751164, -1.40562104,  0.3225628 , -0.67212227],
           [-1.18599022,  0.70869203, -0.6537832 , -0.88416392],
           [ 0.34037826,  2.95790693,  2.23964706,  0.7826746 ],
           [ 1.58033489,  0.08012767, -0.25468447, -0.60233086]])




```python
data[data<0] = 0
data
```




    array([[0.        , 0.27746296, 0.83215429, 0.73517208],
           [0.        , 0.47529513, 0.        , 1.5217802 ],
           [0.        , 0.97101937, 0.        , 0.        ],
           [0.        , 0.        , 0.3225628 , 0.        ],
           [0.        , 0.70869203, 0.        , 0.        ],
           [0.34037826, 2.95790693, 2.23964706, 0.7826746 ],
           [1.58033489, 0.08012767, 0.        , 0.        ]])




```python
#4.1.6神奇索引
```


```python
arr = np.empty((8,4))
```


```python
for i in range(8):
    arr[i] = i
arr
```




    array([[0., 0., 0., 0.],
           [1., 1., 1., 1.],
           [2., 2., 2., 2.],
           [3., 3., 3., 3.],
           [4., 4., 4., 4.],
           [5., 5., 5., 5.],
           [6., 6., 6., 6.],
           [7., 7., 7., 7.]])




```python
arr[[4,3,0,6]]
```




    array([[4., 4., 4., 4.],
           [3., 3., 3., 3.],
           [0., 0., 0., 0.],
           [6., 6., 6., 6.]])




```python
arr1 = np.arange(32).reshape((8,4))
arr1
```




    array([[ 0,  1,  2,  3],
           [ 4,  5,  6,  7],
           [ 8,  9, 10, 11],
           [12, 13, 14, 15],
           [16, 17, 18, 19],
           [20, 21, 22, 23],
           [24, 25, 26, 27],
           [28, 29, 30, 31]])




```python
#4.1.7数组转置和换轴
```


```python
arr = np.arange(15).reshape((3,5))
```


```python
arr
```




    array([[ 0,  1,  2,  3,  4],
           [ 5,  6,  7,  8,  9],
           [10, 11, 12, 13, 14]])




```python
arr.T
```




    array([[ 0,  5, 10],
           [ 1,  6, 11],
           [ 2,  7, 12],
           [ 3,  8, 13],
           [ 4,  9, 14]])




```python
###T为转置
```


```python
arr2 = np.random.randn(6,3)
arr2
```




    array([[-0.90860562,  0.94944395, -0.49651038],
           [ 0.21862176, -0.15873081,  1.46881885],
           [-0.04842799, -0.64352259,  1.07983301],
           [ 1.49250543,  0.05063443,  0.43429626],
           [ 1.42354924,  0.03224774, -0.46854829],
           [-0.93114084, -0.1996354 , -0.831567  ]])




```python
arr3 = np.random.randn(6,3)
arr3
```




    array([[ 0.06161563,  0.971348  , -0.69679579],
           [-1.49201848, -0.42513088, -0.81054461],
           [ 0.98945597,  0.37471551,  0.74970411],
           [ 0.1886698 , -0.11957942,  0.11877938],
           [-1.20706645,  0.50759938, -1.2741153 ],
           [ 0.64865993,  0.30763278, -1.03149568]])




```python
np.dot(arr3.T,arr3)
```




    array([[ 5.12230417,  0.62919971,  2.79947522],
           [ 0.62919971,  1.63125921, -1.02958348],
           [ 2.79947522, -1.02958348,  4.40602486]])




```python
arr3.T
```




    array([[ 0.06161563, -1.49201848,  0.98945597,  0.1886698 , -1.20706645,
             0.64865993],
           [ 0.971348  , -0.42513088,  0.37471551, -0.11957942,  0.50759938,
             0.30763278],
           [-0.69679579, -0.81054461,  0.74970411,  0.11877938, -1.2741153 ,
            -1.03149568]])




```python
arr = np.arange(16).reshape((2,2,4))
arr
```




    array([[[ 0,  1,  2,  3],
            [ 4,  5,  6,  7]],
    
           [[ 8,  9, 10, 11],
            [12, 13, 14, 15]]])




```python
arr.transpose((1,0,2))
```




    array([[[ 0,  1,  2,  3],
            [ 8,  9, 10, 11]],
    
           [[ 4,  5,  6,  7],
            [12, 13, 14, 15]]])




```python
arr.swapaxes(1,2)
```




    array([[[ 0,  4],
            [ 1,  5],
            [ 2,  6],
            [ 3,  7]],
    
           [[ 8, 12],
            [ 9, 13],
            [10, 14],
            [11, 15]]])




```python

```
